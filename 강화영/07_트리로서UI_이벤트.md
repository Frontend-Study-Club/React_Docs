## 트리로서 UI 이해하기

### 렌더 트리

- 리액트는 중첩하여 컴포넌트를 사용할 수 있다. 이런 관계를 **렌더 트리**라는 트리로 나타낼 수 있다. `어떤 컴포넌트가 어떤 컴포넌트를 렌더링하는지 계층적으로 표현한 구조`를 말한다.
- 트리는 **노드**로 구성되며, 노드는 **컴포넌트**를 가리킨다. 루트 노드는 **루트 컴포넌트**이며, 이것은 **리액트에서 첫번째로 렌더링**하는 컴포넌트이다.
- 조건부 렌더링으로 컴포넌트가 바뀌면 렌더 트리도 달라진다.
- **최상위 컴포넌트** : 루트 컴포넌트에 가장 가까우며 아래 모든 컴포넌트에 영향을 미치고, 가장 복잡하다.
- **리프 컴포넌트** : 자식 컴포넌트가 없는, 트리 끝에 있는 컴포넌트

### 모듈 의존성 트리

- js 파일 즉 `모듈이 어떤 파일을 import하는지를 트리로 표현한 구조`
- 노드는 **js파일**이며, 컴포넌트뿐만 아니라 **함수, 상수 파일도 포함**된다.
- 의존성 트리는 앱을 배포하기 위해 필요한 코드를 번들로 묶는 **빌드 도구에서 사용**된다. **번들 최적화**에 도움이 된다.

## 이벤트에 응답하기

### 이벤트 핸들러 추가하기

- JSX 태그에 props 형태로 전달
- 주로 컴포넌트 **내부**에서 정의
- 함수명은 **handle**로 시작하고 그 뒤 이벤트명을 붙임
- JSX 내에 인라인으로 정의 가능


🚨 **이벤트 핸들러는 호출**이 아닌 **전달** 되어야 한다

`<button onClick={handleClick}>` 사용자가 버튼을 클릭했을때만 함수 호출

`<button onClick={handleClick()}>` 렌더링하면서 함수를 즉시 실행한다

`<button onClick={() => handleClick()}>` 인라인으로 정의 시 **익명함수**로 사용


- 컴포넌트의 위치에 따라 다른 기능을 수행해야 할 때, 이벤트 핸들러를 props로 전달하면 각각 다른 작업을 할 수 있다.

### 이벤트 전파

- 부모 컴포넌트는 자식 컴포넌트의 이벤트를 받기도 한다. 이벤트는 발생 지점에서 트리를 따라 위로 전달된다(`onScroll` 제외)
- 부모 컴포넌트에서 이벤트 전파되는 것을 막으려면 앞에 `e.stopPropagation()`을 호출한다. 실행하지 않은 작업이 발생할 때 `e.stopPropagation()`를 사용하여 디버깅할 수 있다.


📖 **이벤트 전파**란? 이벤트는 두 단계로 나뉘어진다

1. 캡처 단계 : 이벤트가 부모 → 자식 방향으로 내려감
2. 버블 단계 : 이벤트가 자식 → 부모 방향으로 올라감
- 리액트는 **버블링 단계**에서 이벤트가 처리된다. 캡처 단계에서 실행하고 싶으면 `이벤트 이름 + Capture`를 붙이면 된다


### 기본 동작 방지

- `<form>`의 `onSubmit` 실행 시 전체 페이지를 리로딩 하는 것이 기본 동작인데 그것을 막기 위해서 `e.preventDefault()` 호출
